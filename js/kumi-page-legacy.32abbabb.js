"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[803],{45420:function(e,t,n){var l=n(74061);const o={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),c=[a];function i(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",o,c)}t.A={name:"ep-folder",render:i}},49603:function(e,t,n){var l=n(74061);const o={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224a112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96a48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96a48 48 0 0 0 0-96z"},null,-1),c=[a];function i(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",o,c)}t.A={name:"ep-more",render:i}},53588:function(e,t,n){var l=n(74061);const o={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},a=(0,l.createElementVNode)("path",{fill:"currentColor",d:"m795.904 750.72l124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704a352 352 0 0 0 0 704z"},null,-1),c=[a];function i(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",o,c)}t.A={name:"ep-search",render:i}},66170:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var l=n(74061),o=n(79475),a=(n(47679),n(37241)),c=(n(38222),n(10700)),i=(n(38264),n(74093)),r=(n(30023),n(1545)),d=(n(8686),n(53588)),u=n(88847),m=(n(25126),n(55343),n(94900),n(99482),n(5260)),s=(n(3e3),n(14602),n(87136),n(47120));const f=["onClick"];function p(e,t,n,o,a,c){return(0,l.openBlock)(),(0,l.createElementBlock)("ul",null,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(n.items,t=>((0,l.openBlock)(),(0,l.createElementBlock)("li",{key:t.index,class:(0,l.normalizeClass)({active:t.index===n.modelValue}),onClick:n=>e.$emit("update:modelValue",t.index)},(0,l.toDisplayString)(t.title),11,f))),128))])}var k={name:"MyList",props:["modelValue","items"],emits:["update:modelValue"]},v=n(66262);const h=(0,v.A)(k,[["render",p],["__scopeId","data-v-0813ecdb"]]);var V=h,B=n(11825),x=n(23556),g=n(10644),N=n(73427),C=n(75841),w=n(53452);const y={class:"up"},E={class:"title"},A={class:"buttons"},_={class:"body"};var D=(0,l.defineComponent)({__name:"KumiItem",props:{data:null},emits:["click","deleteArtifact","delete","edit"],setup(e,{emit:t}){const n=e,o=(0,N.D)(),a=(0,l.computed)(()=>{let e=[];const t={};for(let a of null!==(l=n.data.artifactIds)&&void 0!==l?l:[]){var l;if(a){const e=o.artifacts.value.get(a);e&&(t[e.position]=e)}}for(let n=0;n<5;n++){const l=t[B.Xq[n]];l?e.push(l):e.push(null)}return e});return(e,o)=>{const i=c.S2;return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",y,[(0,l.createElementVNode)("p",E,(0,l.toDisplayString)(n.data.title),1),(0,l.createElementVNode)("div",A,[(0,l.createVNode)(i,{text:"",icon:(0,l.unref)(C.A),title:"删除",onClick:o[0]||(o[0]=e=>t("delete")),circle:""},null,8,["icon"]),(0,l.createVNode)(i,{text:"",icon:(0,l.unref)(w.A),title:"重命名",onClick:o[1]||(o[1]=e=>t("edit")),circle:""},null,8,["icon"])])]),(0,l.createElementVNode)("div",_,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(a),(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:n},[e?((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(g.A),{key:0,class:"artifact-item",width:"200px",item:e,selectable:"",onClick:n=>t("click",e.position),onDelete:n=>t("deleteArtifact",e.id),buttons:!0,"lock-button":!1,"delete-button":!0},null,8,["item","onClick","onDelete"])):((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(x.A),{key:1,class:"artifact-item",onClick:e=>t("click",(0,l.unref)(B.Xq)[n])},null,8,["onClick"]))],64))),128))])])}}});const T=(0,v.A)(D,[["__scopeId","data-v-3b630bd6"]]);var P=T,b=n(97254),S=n(61967),z=n(24821),F=n(59360),K=n(49603),M=n(45420);const H={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},I=(0,l.createElementVNode)("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),L=[I];function U(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("svg",H,L)}var R={name:"ep-folder-add",render:U},Y=n(61728),W=n(53832);const q={class:"m-toolbar hidden-md-and-up"},X={class:"m-middle"},Z={class:"pc-container"},$={class:"left mona-scroll-hidden hidden-sm-and-down"},j={class:"toolbar"},G={class:"mona-scroll-hidden left-list"},J={class:"right mona-scroll-hidden"},O={class:"hidden-md-and-up"},Q={class:"toolbar2 hidden-sm-and-down"},ee={class:"button-left"},te={class:"button-right"},ne={class:"items mona-scroll-hidden"},le={key:0},oe={key:1};var ae=(0,l.defineComponent)({__name:"KumiPage",setup(e){const t=(0,S.H)(),{t:n}=(0,W.s9)(),f=(0,l.ref)(0),p=(0,l.computed)(()=>{let e=[];for(let n of t.dirs.value)e.push({index:n.id,title:n.title});return e}),k=(0,l.computed)(()=>{const e=t.itemById(f.value);return e?e.title:"title"});function v(){o.s.prompt(n("kumiPage.enterFolder"),n("kumiPage.newFolder"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(({value:e})=>{e&&t.createDir(e)}).catch(()=>{})}function h(e){0!==e&&1!==e&&o.s.confirm(n("kumiPage.confirmDelete"),n("kumiPage.deleteFolder"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(()=>{t.deleteDir(e),f.value=0})}function B(e){o.s.prompt(n("kumiPage.enterFolder"),n("kumiPage.renameFolder"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(({value:n})=>{n&&t.rename(e,n)}).catch(()=>{})}function x(e){o.s.confirm(n("kumiPage.confirmClear"),n("kumiPage.clearFolder"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(()=>{t.clearDir(e)})}const g=(0,l.computed)(()=>t.kumisByDirId.value[f.value]);function N(){o.s.prompt(n("kumiPage.enterKumi"),n("kumiPage.newKumi"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(({value:e})=>{e&&t.createKumi(f.value,e)}).catch(()=>{})}function y(e){t.deleteKumi(e)}function E(e){o.s.prompt(n("kumiPage.enterKumi"),n("kumiPage.renameKumi"),{confirmButtonText:n("misc.confirm"),cancelButtonText:n("misc.cancel")}).then(({value:n})=>{n&&t.rename(e,n)}).catch(()=>{})}const A=(0,l.ref)(""),_=(0,l.computed)(()=>new s.A(g.value,{keys:["title"]})),D=(0,l.computed)(()=>{if(""===A.value)return g.value;const e=_.value.search(A.value);return e.map(e=>e.item)}),T=(0,l.ref)(!1),H=(0,l.ref)("flower"),I=(0,l.ref)(0);function L(e){T.value=!1,t.addArtifact(I.value,e)}function U(e,n){t.deleteArtifact(e,n)}function ae(e,t){H.value=t,T.value=!0,I.value=e}function ce(e){"add"===e?v():e.startsWith("use")?f.value=parseInt(e.split(" ")[1]):"delete"===e?h(f.value):"rename"===e?B(f.value):"addKumi"===e&&N()}return(e,t)=>{const o=m.kZ,s=c.S2,g=u.c6,_=u.Iy,S=u.dW,I=d.A,W=r.WK,ie=i.tk,re=c.fg,de=a.x0;return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createVNode)(o,{modelValue:T.value,"onUpdate:modelValue":t[0]||(t[0]=e=>T.value=e),title:(0,l.unref)(n)("kumiPage.selectArt"),width:(0,l.unref)(z.U)?"80%":"90%"},{default:(0,l.withCtx)(()=>[(0,l.createVNode)((0,l.unref)(b.A),{position:H.value,onSelect:L},null,8,["position"])]),_:1},8,["modelValue","title","width"]),(0,l.createElementVNode)("div",q,[(0,l.createVNode)(S,{trigger:"click",onCommand:ce},{dropdown:(0,l.withCtx)(()=>[(0,l.createVNode)(_,null,{default:(0,l.withCtx)(()=>[(0,l.createVNode)(g,{command:"add",icon:(0,l.unref)(R)},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("kumiPage.newFolder")),1)]),_:1},8,["icon"]),(0,l.createVNode)(g,{command:"addKumi",icon:(0,l.unref)(F.A)},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("kumiPage.newKumi")),1)]),_:1},8,["icon"]),0!==f.value?((0,l.openBlock)(),(0,l.createBlock)(g,{key:0,command:"delete",icon:(0,l.unref)(C.A)},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("misc.del"))+'"'+(0,l.toDisplayString)((0,l.unref)(k))+'"',1)]),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),0!==f.value?((0,l.openBlock)(),(0,l.createBlock)(g,{key:1,command:"rename",icon:(0,l.unref)(w.A)},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("misc.rename")),1)]),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(p),(e,t)=>((0,l.openBlock)(),(0,l.createBlock)(g,{key:e.index,divided:0===t,command:"use "+e.index,icon:(0,l.unref)(M.A)},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)(e.title),1)]),_:2},1032,["divided","command","icon"]))),128))]),_:1})]),default:(0,l.withCtx)(()=>[(0,l.createVNode)(s,{icon:(0,l.unref)(K.A),size:"small",text:"",circle:""},null,8,["icon"])]),_:1}),(0,l.createElementVNode)("div",X,(0,l.toDisplayString)((0,l.unref)(k)),1)]),(0,l.createElementVNode)("div",Z,[(0,l.createElementVNode)("div",$,[(0,l.createElementVNode)("div",j,[(0,l.createVNode)(s,{type:"primary",icon:(0,l.unref)(F.A),onClick:v},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("kumiPage.newFolder")),1)]),_:1},8,["icon"])]),(0,l.createElementVNode)("div",G,[(0,l.createVNode)((0,l.unref)(V),{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=e=>f.value=e),items:(0,l.unref)(p)},null,8,["modelValue","items"])])]),(0,l.createElementVNode)("div",J,[(0,l.createElementVNode)("div",O,[(0,l.createVNode)(W,{modelValue:A.value,"onUpdate:modelValue":t[2]||(t[2]=e=>A.value=e),style:{"margin-bottom":"12px"},placeholder:(0,l.unref)(n)("misc.search")},{append:(0,l.withCtx)(()=>[(0,l.createVNode)(I)]),_:1},8,["modelValue","placeholder"])]),(0,l.createElementVNode)("div",Q,[(0,l.createElementVNode)("div",ee,[(0,l.createVNode)(s,{type:"primary",icon:(0,l.unref)(F.A),onClick:N},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("kumiPage.newKumi")),1)]),_:1},8,["icon"]),(0,l.createVNode)(W,{modelValue:A.value,"onUpdate:modelValue":t[3]||(t[3]=e=>A.value=e),style:{"margin-left":"16px"},placeholder:(0,l.unref)(n)("misc.search")},{append:(0,l.withCtx)(()=>[(0,l.createVNode)(ie,null,{default:(0,l.withCtx)(()=>[(0,l.createVNode)(I)]),_:1})]),_:1},8,["modelValue","placeholder"])]),(0,l.createElementVNode)("div",te,[(0,l.createVNode)(re,null,{default:(0,l.withCtx)(()=>[0!==f.value&&1!==f.value?((0,l.openBlock)(),(0,l.createBlock)(s,{key:0,icon:(0,l.unref)(w.A),onClick:t[4]||(t[4]=e=>B(f.value))},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("misc.rename")),1)]),_:1},8,["icon"])):(0,l.createCommentVNode)("",!0),(0,l.createVNode)(s,{icon:(0,l.unref)(Y.A),onClick:t[5]||(t[5]=e=>x(f.value))},{default:(0,l.withCtx)(()=>[(0,l.createTextVNode)((0,l.toDisplayString)((0,l.unref)(n)("misc.clear")),1)]),_:1},8,["icon"]),0!==f.value&&1!==f.value?((0,l.openBlock)(),(0,l.createBlock)(s,{key:1,type:"danger",onClick:t[6]||(t[6]=e=>h(f.value)),title:(0,l.unref)(n)("kumiPage.deleteFolder"),icon:(0,l.unref)(C.A)},null,8,["title","icon"])):(0,l.createCommentVNode)("",!0)]),_:1})])]),(0,l.createElementVNode)("div",ne,[(0,l.unref)(D).length>0?((0,l.openBlock)(),(0,l.createElementBlock)("div",le,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((0,l.unref)(D),e=>((0,l.openBlock)(),(0,l.createBlock)((0,l.unref)(P),{key:e.id,data:e,onDelete:t=>y(e.id),onEdit:t=>E(e.id),onClick:t=>ae(e.id,t),onDeleteArtifact:t=>U(e.id,t)},null,8,["data","onDelete","onEdit","onClick","onDeleteArtifact"]))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)("div",oe,[(0,l.createVNode)(de)]))])])])])}}});const ce=(0,v.A)(ae,[["__scopeId","data-v-ef776eec"]]);var ie=ce}}]);