"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[344],{3344:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var r=a(74061),l=a(98971),o=(a(9767),a(48034),a(14602),a(35231),a(89133)),n=a(11825),i=a(73427),u=a(53832),c=a(74961),s=a.n(c);const f={class:"root"},d={class:"chart-div"},p={class:"table-div"},m={style:{"font-size":"12px"}};var v=(0,r.defineComponent)({__name:"ArtifactsSetStatistics",props:{artifactIds:null},setup(e){const t=e,{t:a}=(0,u.s9)(),c=(0,i.D)(),v=(0,r.computed)(()=>{const e=[];for(let a of t.artifactIds){let t=c.artifacts.value.get(a);t&&e.push(t)}return e}),g=(0,r.computed)(()=>{let e={};for(let r of v.value){var t;const l=null!==(t=r.star)&&void 0!==t?t:5;if(!(l<=3))for(let t of r.normalTags){const r=t.name,i=t.value,[u,c]=(0,o.tm)(i,r,l),s=i/n.CT[l][r][3];if(Object.prototype.hasOwnProperty.call(e,r)){let t=e[r];t.upgradeCount[0]+=u,t.upgradeCount[1]+=c,t.value+=i,t.eff+=s}else e[r]={name:r,upgradeCount:[u,c],value:i,title:a("stat",r),eff:s,percentage:n._9[r].percentage}}}return e}),h=(0,r.computed)(()=>{let e=[];for(let t in g.value)e.push({value:g.value[t].eff,name:g.value[t].title});return e.sort((e,t)=>e.value-t.value),{tooltip:{trigger:"item",formatter:e=>{const t=e.value,a=e.percent;return`${t.toFixed(1)}/${a.toFixed(0)}%`}},visualMap:{show:!1,min:0,max:25,inRange:{colorLightness:[.3,1]}},series:[{name:"有效词条分布",type:"pie",label:{},itemStyle:{color:"#c23531"},data:e}]}}),x=(0,r.computed)(()=>{let e=[];for(let t in g.value)e.push(g.value[t]);return e.sort((e,t)=>t.eff-e.eff),e}),y=(0,r.ref)([]),C=(0,r.computed)(()=>{let e=0;for(let t of y.value)e+=t.eff;return e});return(e,t)=>{const o=l.o8,n=l.Up;return(0,r.openBlock)(),(0,r.createElementBlock)("div",f,[(0,r.createElementVNode)("div",d,[(0,r.createVNode)((0,r.unref)(s()),{option:(0,r.unref)(h),autoresize:!0},null,8,["option"])]),(0,r.createElementVNode)("div",p,[(0,r.createVNode)(n,{data:(0,r.unref)(x),onSelectionChange:t[0]||(t[0]=e=>y.value=e),ref:"table"},{default:(0,r.withCtx)(()=>[(0,r.createVNode)(o,{type:"selection",width:"48"}),(0,r.createVNode)(o,{label:(0,r.unref)(a)("misc.stat")},{default:(0,r.withCtx)(({row:e})=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.title),1)]),_:1},8,["label"]),(0,r.createVNode)(o,{label:(0,r.unref)(a)("misc.value")},{default:(0,r.withCtx)(({row:e})=>[e.percentage?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)((0,r.toDisplayString)((100*e.value).toFixed(1))+"% ",1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)((0,r.toDisplayString)(e.value.toFixed(0)),1)],64))]),_:1},8,["label"]),(0,r.createVNode)(o,{label:(0,r.unref)(a)("misc.stat1")},{default:(0,r.withCtx)(e=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.row.eff.toFixed(3)),1)]),_:1},8,["label"]),(0,r.createVNode)(o,{label:(0,r.unref)(a)("misc.rollCount")},{default:(0,r.withCtx)(e=>[(0,r.createTextVNode)(" ["+(0,r.toDisplayString)(e.row.upgradeCount[0])+", "+(0,r.toDisplayString)(e.row.upgradeCount[1])+"] ",1)]),_:1},8,["label"])]),_:1},8,["data"]),(0,r.createElementVNode)("p",m,(0,r.toDisplayString)((0,r.unref)(a)("misc.selected"))+": "+(0,r.toDisplayString)((0,r.unref)(C).toFixed(1)),1)])])}}}),g=a(66262);const h=(0,g.A)(v,[["__scopeId","data-v-56b994fc"]]);var x=h}}]);