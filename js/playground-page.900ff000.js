"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[56],{11927:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ae}});var o=l(74061),a=l(73517),n=(l(69377),l(10700)),r=(l(38264),l(34995)),c=(l(83620),l(37241)),i=(l(38222),l(99482),l(94218)),u=(l(89986),l(40079)),d=(l(55324),l(5260)),s=(l(3e3),l(14602),l(87136),l(64699)),f=l(43944),m=l(4857),p=l(95452),g=l(1471),V=l(93269),v=l(63563),h=l(1758),k=l(10644),N=l(23556),C=l(97254),y=l(79028),w=l(33772);let B=[];for(const[Ue,Se]of Object.entries(w["default"]))B.push(Se.name);const E="monaDSL";y.languages.register({id:E}),y.languages.setMonarchTokensProvider(E,{characters:B,tokenizer:{root:[[/prop|dmg/,"keyword"],[/\d+(\.\d+)?/,"number"],[/normal|transformative|electro_charged|swirl_cryo|swirl_pyro|swirl_hydro|swirl_electro|overload|shatter|superconduct|super_conduct|spread|aggravate|bloom|hyperbloom|burgeon|burning|expect|expectation|critical|crit|non_critical|non_crit|recharge|em|atk|def|hp|crit0/,"prop"],[/print|min|max|type/,"global"],[/[a-zA-Z]\w*/,{cases:{"@characters":"characters","@default":"identifier"}}],[/\/\/.*$/,"comment"]]}}),y.editor.defineTheme("myTheme",{base:"vs-dark",inherit:!0,rules:[{token:"keyword",foreground:"FFA500"},{token:"number",foreground:"7A9EC2"},{token:"prop",foreground:"9E7BB0"},{token:"global",foreground:"A5C261"},{token:"characters",foreground:"99ff00"},{token:"identifier",foreground:"D3D3D3"}],colors:{"editor.foreground":"#CCCCCC"}});var x=(0,o.defineComponent)({__name:"MonaMonacoEditor",setup(e,{expose:t}){let l=null;function a(){const e=l.getValue();return e}t({getValue:a});const n=(0,o.ref)(null);return(0,o.onMounted)(()=>{n.value&&(l=y.editor.create(n.value,{value:"dmg a = Amber.transformative\noverload = a.overload\ne = a.electro_charged\nresult = overload * 10 + e * 8\nprint(result)",language:E,theme:"myTheme"}))}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{ref_key:"root",ref:n,class:"root"},null,512))}}),b=l(66262);const _=(0,b.A)(x,[["__scopeId","data-v-115587b9"]]);var A=_,U=l(24821),S=l(63655),R=l(60558),F=l(22483),M=l(44976),T=l(89133),D=l(59360);const I={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},z=(0,o.createElementVNode)("path",{fill:"currentColor",d:"M512 256c0 141.4-114.6 256-256 256S0 397.4 0 256S114.6 0 256 0s256 114.6 256 256zM99.5 144.8C77.15 176.1 64 214.5 64 256c0 106 85.1 192 192 192c41.5 0 79.9-13.1 111.2-35.5L99.5 144.8zM448 256c0-106.9-86-192-192-192c-41.5 0-79.9 13.15-111.2 35.5l267.7 267.7C434.9 335.9 448 297.5 448 256z"},null,-1),L=[z];function q(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",I,L)}var P={name:"fa6-solid-ban",render:q};const W={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},X=(0,o.createElementVNode)("path",{fill:"currentColor",d:"M361 215c14.3 8.8 23 24.3 23 41s-8.7 32.2-23 40.1l-287.97 176c-14.82 9.9-33.37 10.3-48.51 1.8A48.02 48.02 0 0 1 0 432V80a48.02 48.02 0 0 1 24.52-41.87a48.019 48.019 0 0 1 48.51.91L361 215z"},null,-1),Y=[X];function Z(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("svg",W,Y)}var j={name:"fa6-solid-play",render:Z},H=l(11825),O=l(61565);const $=e=>((0,o.pushScopeId)("data-v-56788dfe"),e=e(),(0,o.popScopeId)(),e),G={class:"config-character"},J=["src"],K={class:"select-character"},Q=$(()=>(0,o.createElementVNode)("p",{class:"common-title"},"角色",-1)),ee={style:{display:"flex",gap:"12px"}},te={class:"config-character-skill"},le=$(()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"技能",-1)),oe={class:"skill-div"},ae={class:"config-character-constellation"},ne=$(()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"命之座",-1)),re={key:0,class:"character-extra-config"},ce={class:"config-weapon"},ie={class:"select-weapon"},ue=$(()=>(0,o.createElementVNode)("p",{class:"common-title"},"武器",-1)),de={style:{display:"flex",gap:"12px","margin-bottom":"8px"}},se={class:"config-weapon-refine"},fe=$(()=>(0,o.createElementVNode)("h3",{class:"common-title2"},"精炼",-1)),me={key:0,class:"weapon-extra-config"},pe={class:"config-buff"},ge=$(()=>(0,o.createElementVNode)("p",{class:"common-title"},"BUFF",-1)),Ve={class:"buff-tool",style:{"margin-bottom":"12px"}},ve={key:0,class:"buffs"},he={key:1},ke={class:"config-artifact"},Ne=$(()=>(0,o.createElementVNode)("p",{class:"common-title"},"圣遗物",-1)),Ce={class:"artifacts"},ye={class:"editor-container"},we={class:"bottom"},Be={class:"tool-bar"},Ee={class:"output mona-scroll-hidden"},xe={class:"output-row"};var be=(0,o.defineComponent)({__name:"MonaPlaygroundPage",setup(e){const{characterName:t,characterLevel:l,characterConfig:y,characterSkill1:w,characterSkill2:B,characterSkill3:E,characterConstellation:x,characterWeaponType:b,characterInterface:_,characterSplash:I,characterAscend:z,characterConfigConfig:L,characterNeedConfig:q}=(0,S.T)(),{weaponName:W,weaponLevel:X,weaponRefine:Y,weaponConfig:Z,weaponNeedConfig:$,weaponConfigConfig:be,weaponAscend:_e,weaponInterface:Ae}=(0,R.q)(b),{buffs:Ue,buffsInterface:Se,addBuff:Re,deleteBuff:Fe,toggleBuff:Me}=(0,F.X)(),Te=(0,o.ref)(!1);function De(e){Te.value=!1,Re(e)}function Ie(){Te.value=!0}const{artifactIds:ze,artifactSingleConfig:Le,artifactConfigForCalculator:qe,artifactWasmFormat:Pe,artifactNeedConfig4:We,artifactConfig4Configs:Xe,artifactItems:Ye,removeArtifact:Ze,toggleArtifact:je,setArtifact:He}=(0,M.g)(),Oe=(0,o.ref)(!1),$e=(0,o.ref)("flower");function Ge(e){const t=(0,T.HT)($e.value);ze.value[t]=e,Oe.value=!1}function Je(e){const t=H.Xq[e];Oe.value=!0,$e.value=t}const Ke=(0,o.ref)([]),Qe=(0,o.ref)(null),et=(0,o.computed)(()=>({character:_.value,weapon:Ae.value,buffs:Se.value,artifact_config:qe.value,enemy:null}));function tt(e){Ke.value.push(e)}function lt(){Ke.value=[]}async function ot(){if(Qe.value){const e=et.value,t=Pe.value,l=Qe.value.getValue().trim(),o=await(0,O.N)(),a=o.DSLInterface.run(l,e,t);if(a.is_error){tt("[error]");for(const e of a.error_msg.split("\n"))tt(e)}else{tt("[success]");for(const e of a.output.split("\n"))tt(e)}}}return(e,_)=>{const S=d.kZ,R=u.lq,F=i.fR,M=n.S2,T=c.x0,z=r.uD,H=n.fg,O=a.S2;return(0,o.openBlock)(),(0,o.createBlock)(O,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(S,{modelValue:Te.value,"onUpdate:modelValue":_[0]||(_[0]=e=>Te.value=e),title:"选择BUFF",width:(0,o.unref)(U.U)?"60%":"90%"},{default:(0,o.withCtx)(()=>[(0,o.createVNode)((0,o.unref)(h.A),{onSelect:De})]),_:1},8,["modelValue","width"]),(0,o.createVNode)(S,{title:"选择圣遗物",width:(0,o.unref)(U.U)?"80%":"90%",modelValue:Oe.value,"onUpdate:modelValue":_[1]||(_[1]=e=>Oe.value=e)},{default:(0,o.withCtx)(()=>[(0,o.createVNode)((0,o.unref)(C.A),{position:$e.value,onSelect:Ge},null,8,["position"])]),_:1},8,["width","modelValue"]),(0,o.createVNode)(z,{sm:24,md:6,class:"left mona-scroll-hidden",style:(0,o.normalizeStyle)((0,o.unref)(U.U)?{paddingRight:"16px"}:{})},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("img",{src:(0,o.unref)(I),class:"character-splash",alt:"角色"},null,8,J),(0,o.createElementVNode)("div",K,[Q,(0,o.createElementVNode)("div",ee,[(0,o.createVNode)((0,o.unref)(f.A),{modelValue:(0,o.unref)(t),"onUpdate:modelValue":_[2]||(_[2]=e=>(0,o.isRef)(t)?t.value=e:null),style:{flex:"1"}},null,8,["modelValue"]),(0,o.createVNode)((0,o.unref)(p.A),{modelValue:(0,o.unref)(l),"onUpdate:modelValue":_[3]||(_[3]=e=>(0,o.isRef)(l)?l.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,o.createElementVNode)("div",te,[le,(0,o.createElementVNode)("div",oe,[(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(w),"onUpdate:modelValue":_[4]||(_[4]=e=>(0,o.isRef)(w)?w.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(B),"onUpdate:modelValue":_[5]||(_[5]=e=>(0,o.isRef)(B)?B.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"]),(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(E),"onUpdate:modelValue":_[6]||(_[6]=e=>(0,o.isRef)(E)?E.value=e:null),min:1,max:15,style:{flex:"1",display:"block",width:"unset"}},null,8,["modelValue"])])]),(0,o.createElementVNode)("div",ae,[ne,(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(x),"onUpdate:modelValue":_[7]||(_[7]=e=>(0,o.isRef)(x)?x.value=e:null),min:0,max:6},null,8,["modelValue"])]),(0,o.unref)(q)?((0,o.openBlock)(),(0,o.createElementBlock)("div",re,[(0,o.createVNode)((0,o.unref)(s.A),{modelValue:(0,o.unref)(y),"onUpdate:modelValue":_[8]||(_[8]=e=>(0,o.isRef)(y)?y.value=e:null),"item-name":(0,o.unref)(t),configs:(0,o.unref)(L)},null,8,["modelValue","item-name","configs"])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(F),(0,o.createElementVNode)("div",ce,[(0,o.createElementVNode)("div",ie,[ue,(0,o.createElementVNode)("div",de,[(0,o.createVNode)((0,o.unref)(m.A),{type:(0,o.unref)(b),modelValue:(0,o.unref)(W),"onUpdate:modelValue":_[9]||(_[9]=e=>(0,o.isRef)(W)?W.value=e:null),style:{flex:"1"}},null,8,["type","modelValue"]),(0,o.createVNode)((0,o.unref)(g.A),{modelValue:(0,o.unref)(X),"onUpdate:modelValue":_[10]||(_[10]=e=>(0,o.isRef)(X)?X.value=e:null),style:{flex:"1"}},null,8,["modelValue"])]),(0,o.createVNode)((0,o.unref)(V.A),{"weapon-name":(0,o.unref)(W)},null,8,["weapon-name"]),(0,o.createElementVNode)("div",se,[fe,(0,o.createVNode)(R,{"controls-position":"right",modelValue:(0,o.unref)(Y),"onUpdate:modelValue":_[11]||(_[11]=e=>(0,o.isRef)(Y)?Y.value=e:null),min:1,max:5},null,8,["modelValue"])]),(0,o.unref)($)?((0,o.openBlock)(),(0,o.createElementBlock)("div",me,[(0,o.createVNode)((0,o.unref)(s.A),{modelValue:(0,o.unref)(Z),"onUpdate:modelValue":_[12]||(_[12]=e=>(0,o.isRef)(Z)?Z.value=e:null),"item-name":(0,o.unref)(W),configs:(0,o.unref)(be)},null,8,["modelValue","item-name","configs"])])):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)(F),(0,o.createElementVNode)("div",pe,[ge,(0,o.createElementVNode)("div",Ve,[(0,o.createVNode)(M,{icon:(0,o.unref)(D.A),onClick:Ie,title:"添加BUFF",circle:"",text:""},null,8,["icon"])]),(0,o.unref)(Ue).length>0?((0,o.openBlock)(),(0,o.createElementBlock)("div",ve,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(Ue),e=>((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(v.A),{key:e.id,buff:e,buffConfig:e.config,"onUpdate:buffConfig":t=>e.config=t,onDelete:t=>(0,o.unref)(Fe)(e.id),onToggle:t=>(0,o.unref)(Me)(e.id)},null,8,["buff","buffConfig","onUpdate:buffConfig","onDelete","onToggle"]))),128))])):((0,o.openBlock)(),(0,o.createElementBlock)("div",he,[(0,o.createVNode)(T,{description:"无BUFF"})]))]),(0,o.createVNode)(F),(0,o.createElementVNode)("div",ke,[Ne,(0,o.createElementVNode)("div",Ce,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(ze),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t,class:"artifact-item-or-button"},[(0,o.unref)(Ye)[t]?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(k.A),{key:0,item:(0,o.unref)(Ye)[t],selectable:"",buttons:!0,"delete-button":!0,onDelete:e=>(0,o.unref)(Ze)(t),onToggle:t=>(0,o.unref)(je)(e),onClick:e=>Je(t),class:"artifact-display"},null,8,["item","onDelete","onToggle","onClick"])):((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(N.A),{key:1,onClick:e=>Je(t),class:"add-button"},null,8,["onClick"]))]))),128))])])]),_:1},8,["style"]),(0,o.createVNode)(z,{sm:24,md:18,class:"right mona-scroll-hidden"},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)("div",ye,[(0,o.createVNode)(A,{ref_key:"editor",ref:Qe},null,512)]),(0,o.createElementVNode)("div",we,[(0,o.createElementVNode)("div",Be,[(0,o.createVNode)(H,null,{default:(0,o.withCtx)(()=>[(0,o.createVNode)(M,{icon:(0,o.unref)(j),onClick:ot,size:"small",text:"",title:"运行",type:"primary"},{default:(0,o.withCtx)(()=>[(0,o.createTextVNode)("运行")]),_:1},8,["icon"]),(0,o.createVNode)(M,{icon:(0,o.unref)(P),onClick:lt,text:"",title:"清除输出",size:"small"},null,8,["icon"])]),_:1})]),(0,o.createElementVNode)("div",Ee,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(Ke.value,e=>((0,o.openBlock)(),(0,o.createElementBlock)("p",xe,(0,o.toDisplayString)(e),1))),256))])])]),_:1})]),_:1})}}});const _e=(0,b.A)(be,[["__scopeId","data-v-56788dfe"]]);var Ae=_e}}]);